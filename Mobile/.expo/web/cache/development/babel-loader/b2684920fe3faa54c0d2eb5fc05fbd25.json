{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { Storage } from \"expo-storage\";\nvar initialState = {\n  userLogin: {},\n  count: 1\n};\nvar URL = \"http://192.168.1.6:5000\";\nvar userInStorage = function () {\n  var _ref = _asyncToGenerator(function* (state) {\n    var user = yield Storage.getItem({\n      key: \"userInfo\"\n    });\n    if (user != null) {\n      state.userLogin = _objectSpread(_objectSpread({}, state.userLogin), {}, {\n        userLogin: JSON.parse(user)\n      });\n    } else {\n      state.userLogin = _objectSpread({}, state.userLogin);\n    }\n  });\n  return function userInStorage(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var userSlice = createSlice({\n  name: \"user\",\n  initialState: initialState,\n  reducers: {\n    login: function () {\n      var _login = _asyncToGenerator(function* (state, action) {\n        var email = action.payload.email;\n        var password = action.payload.password;\n        state.userLogin = _objectSpread(_objectSpread({}, state.userLogin), {}, {\n          userLogin: {\n            email: email,\n            password: password\n          }\n        });\n\n      });\n      function login(_x2, _x3) {\n        return _login.apply(this, arguments);\n      }\n      return login;\n    }(),\n    increase: function increase(state) {\n      state.count += 1;\n    }\n  }\n});\n\nvar _userSlice$actions = userSlice.actions,\n  login = _userSlice$actions.login,\n  increase = _userSlice$actions.increase;\nexport { login, increase };\nexport var selectUser = function selectUser(state) {\n  return state.userLogin;\n};\nexport var getcount = function getcount(state) {\n  return state.count;\n};\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","axios","Storage","initialState","userLogin","count","URL","userInStorage","state","user","getItem","key","JSON","parse","userSlice","name","reducers","login","action","email","payload","password","increase","actions","selectUser","getcount","reducer"],"sources":["F:/DoAn/DACN1/ShopApp/src/Redux/slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\nimport { Storage } from \"expo-storage\";\r\n\r\nconst initialState = {\r\n  userLogin: {},\r\n  count: 1,\r\n};\r\nconst URL = `http://192.168.1.6:5000`;\r\n\r\nconst userInStorage = async (state) => {\r\n  const user = await Storage.getItem({ key: \"userInfo\" });\r\n  if (user != null) {\r\n    state.userLogin = {\r\n      ...state.userLogin,\r\n      userLogin: JSON.parse(user),\r\n    };\r\n  } else {\r\n    state.userLogin = { ...state.userLogin };\r\n  }\r\n};\r\n\r\nexport const userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  reducers: {\r\n    login: async (state, action) => {\r\n      const email = action.payload.email;\r\n      const password = action.payload.password;\r\n      state.userLogin = {\r\n        ...state.userLogin,\r\n        userLogin: { email: email, password: password },\r\n      };\r\n      //   try {\r\n      //     const config = {\r\n      //       headers: {\r\n      //         \"Content-Type\": \"application/json\",\r\n      //       },\r\n      //     };\r\n\r\n      //     const { data } = await axios.post(\r\n      //       `${URL}/api/users/login`,\r\n      //       {\r\n      //         email,\r\n      //         password,\r\n      //       },\r\n      //       config\r\n      //     );\r\n      //     console.log(data);\r\n      //   } catch (error) {\r\n      //     // dispatch({\r\n      //     //   type: USER_LOGIN_FAIL,\r\n      //     //   payload:\r\n      //     //     error.response && error.response.data.message\r\n      //     //       ? error.response.data.message\r\n      //     //       : error.message,\r\n      //     // });\r\n      //   }\r\n    },\r\n    increase: (state) => {\r\n      state.count += 1;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { login, increase } = userSlice.actions;\r\nexport const selectUser = (state) => state.userLogin;\r\nexport const getcount = (state) => state.count;\r\nexport default userSlice.reducer;\r\n"],"mappings":";;;;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,cAAc;AAEtC,IAAMC,YAAY,GAAG;EACnBC,SAAS,EAAE,CAAC,CAAC;EACbC,KAAK,EAAE;AACT,CAAC;AACD,IAAMC,GAAG,4BAA4B;AAErC,IAAMC,aAAa;EAAA,6BAAG,WAAOC,KAAK,EAAK;IACrC,IAAMC,IAAI,SAASP,OAAO,CAACQ,OAAO,CAAC;MAAEC,GAAG,EAAE;IAAW,CAAC,CAAC;IACvD,IAAIF,IAAI,IAAI,IAAI,EAAE;MAChBD,KAAK,CAACJ,SAAS,mCACVI,KAAK,CAACJ,SAAS;QAClBA,SAAS,EAAEQ,IAAI,CAACC,KAAK,CAACJ,IAAI;MAAC,EAC5B;IACH,CAAC,MAAM;MACLD,KAAK,CAACJ,SAAS,qBAAQI,KAAK,CAACJ,SAAS,CAAE;IAC1C;EACF,CAAC;EAAA,gBAVKG,aAAa;IAAA;EAAA;AAAA,GAUlB;AAED,OAAO,IAAMO,SAAS,GAAGd,WAAW,CAAC;EACnCe,IAAI,EAAE,MAAM;EACZZ,YAAY,EAAZA,YAAY;EACZa,QAAQ,EAAE;IACRC,KAAK;MAAA,+BAAE,WAAOT,KAAK,EAAEU,MAAM,EAAK;QAC9B,IAAMC,KAAK,GAAGD,MAAM,CAACE,OAAO,CAACD,KAAK;QAClC,IAAME,QAAQ,GAAGH,MAAM,CAACE,OAAO,CAACC,QAAQ;QACxCb,KAAK,CAACJ,SAAS,mCACVI,KAAK,CAACJ,SAAS;UAClBA,SAAS,EAAE;YAAEe,KAAK,EAAEA,KAAK;YAAEE,QAAQ,EAAEA;UAAS;QAAC,EAChD;;MA0BH,CAAC;MAAA;QAAA;MAAA;MAAA;IAAA;IACDC,QAAQ,EAAE,kBAACd,KAAK,EAAK;MACnBA,KAAK,CAACH,KAAK,IAAI,CAAC;IAClB;EACF;AACF,CAAC,CAAC;;AAGK,yBAA4BS,SAAS,CAACS,OAAO;EAArCN,KAAK,sBAALA,KAAK;EAAEK,QAAQ,sBAARA,QAAQ;AAAuB;AACrD,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAU,CAAIhB,KAAK;EAAA,OAAKA,KAAK,CAACJ,SAAS;AAAA;AACpD,OAAO,IAAMqB,QAAQ,GAAG,SAAXA,QAAQ,CAAIjB,KAAK;EAAA,OAAKA,KAAK,CAACH,KAAK;AAAA;AAC9C,eAAeS,SAAS,CAACY,OAAO"},"metadata":{},"sourceType":"module"}